<!DOCTYPE html>
<html lang="da" class="smooth-scroll">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Intelligente Flashcards - ExamKlar ‚ú®</title>
    <link rel="stylesheet" href="../../styles/global.css">
    <link rel="stylesheet" href="../../styles/components.css">
    <link rel="stylesheet" href="../../styles/design-system/components/index.css">
    <link rel="stylesheet" href="flashcards.css">
</head>
<body class="gpu-accelerated">
    <!-- Skip to Content Link -->
    <a href="#main-content" class="skip-link">Spring til hovedindhold</a>
    
    <!-- Dark Mode Toggle -->
    <button class="theme-toggle" id="themeToggle" aria-label="Skift til m√∏rk/lys tilstand" title="Skift tema">
        <span id="themeIcon">üåô</span>
    </button>
    
    <!-- Navigation -->
    <header class="navbar">
        <nav class="navbar__container" role="navigation" aria-label="Hovednavigation">
            <div class="navbar__brand">
                <div class="navbar__logo text--gradient">‚ú® ExamKlar</div>
                <span class="badge badge--primary" aria-label="Intelligente Flashcards">Flashcards</span>
            </div>
            <div class="navbar__nav">
                <a href="../../index.html" class="btn btn--ghost btn--sm" aria-label="Tilbage til forside">
                    <span class="btn__icon">üè†</span>
                    Forside
                </a>
                <a href="../dashboard/index.html" class="btn btn--ghost btn--sm">
                    <span class="btn__icon">üìä</span>
                    Dashboard
                </a>
                <a href="../subjects/index.html" class="btn btn--ghost btn--sm">
                    <span class="btn__icon">üìö</span>
                    Emner
                </a>
            </div>
        </nav>
    </header>

    <main class="main" id="main-content">
        <div class="container container-responsive">
            <!-- Hero Section -->
            <section class="hero" role="banner" aria-labelledby="flashcards-title">
                <div class="card card--elevated">
                    <div class="hero__content">
                        <h1 id="flashcards-title" class="heading heading--h1 heading--gradient">
                            <span class="heading__icon">üóÇÔ∏è</span>
                            Intelligente Flashcards
                        </h1>
                        <p class="text text--lg text--secondary">
                            Mester dit l√¶ringsmateriale med adaptive flashcards, spaced repetition og AI-optimering for maksimal hukommelse og effektiv l√¶ring.
                        </p>
                        
                        <div class="feature-preview">
                            <div class="card card--feature">
                                <span class="card__icon">üß†</span>
                                <span class="text text--sm">Spaced Repetition</span>
                            </div>
                            <div class="card card--feature" style="animation-delay: 0.2s;">
                                <span class="card__icon">‚ö°</span>
                                <span class="text text--sm">AI-Optimeret</span>
                            </div>
                            <div class="card card--feature" style="animation-delay: 0.4s;">
                                <span class="card__icon">üéØ</span>
                                <span class="text text--sm">Adaptiv L√¶ring</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Stats Overview -->
            <section class="stats-section" role="region" aria-labelledby="stats-title">
                <h2 id="stats-title" class="heading heading--h2 heading--gradient">
                    <span class="heading__icon">üìä</span>
                    Flashcard Analytics
                </h2>
                <div class="stats-grid">
                    <div class="card card--stat">
                        <div class="card__body">
                            <div class="stat__icon" aria-hidden="true">
                                <span class="text text--gradient">üóÇÔ∏è</span>
                            </div>
                            <span class="stat__number text--gradient" id="totalCards">0</span>
                            <span class="stat__label text text--secondary">Total Cards</span>
                            <div class="progress" data-progress="0" aria-label="Card completion progress"></div>
                        </div>
                    </div>
                    
                    <div class="card card--stat" style="animation-delay: 0.1s;">
                        <div class="card__body">
                            <div class="stat__icon" aria-hidden="true">
                                <span class="text text--gradient">‚è∞</span>
                            </div>
                            <span class="stat__number text--gradient" id="dueCards">0</span>
                            <span class="stat__label text text--secondary">Due Today</span>
                            <div class="progress" data-progress="0" aria-label="Due cards progress"></div>
                        </div>
                    </div>
                    
                    <div class="card card--stat" style="animation-delay: 0.2s;">
                        <div class="card__body">
                            <div class="stat__icon" aria-hidden="true">
                                <span class="text text--gradient">üèÜ</span>
                            </div>
                            <span class="stat__number text--gradient" id="masteredCards">0</span>
                            <span class="stat__label text text--secondary">Mastered</span>
                            <div class="progress" data-progress="0" aria-label="Mastered cards progress"></div>
                        </div>
                    </div>
                    
                    <div class="card card--stat" style="animation-delay: 0.3s;">
                        <div class="card__body">
                            <div class="stat__icon" aria-hidden="true">
                                <span class="text text--gradient">üìà</span>
                            </div>
                            <span class="stat__number text--gradient" id="successRate">0%</span>
                            <span class="stat__label text text--secondary">Success Rate</span>
                            <div class="progress" data-progress="0" aria-label="Success rate progress"></div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Action Buttons -->
            <section class="actions-section">
                <h2 class="heading heading--h2 heading--gradient">
                    <span class="heading__icon">‚ö°</span>
                    Quick Actions
                </h2>
                <div class="actions-grid">
                    <button class="card card--interactive card--action" onclick="showCreateCard()" aria-label="Create new flashcard">
                        <div class="card__body">
                            <span class="card__icon">‚ûï</span>
                            <h3 class="heading heading--h3">Create New Card</h3>
                            <p class="text text--secondary">Opret et nyt flashcard</p>
                        </div>
                    </button>
                    
                    <button class="card card--interactive card--action" onclick="startReview()" id="reviewBtn" aria-label="Start review session" style="animation-delay: 0.1s;">
                        <div class="card__body">
                            <span class="card__icon">üéØ</span>
                            <h3 class="heading heading--h3">Start Review</h3>
                            <p class="text text--secondary">Gennemg√• dine cards</p>
                        </div>
                    </button>
                    
                    <button class="card card--interactive card--action" onclick="showImportExport()" aria-label="Import or export cards" style="animation-delay: 0.2s;">
                        <div class="card__body">
                            <span class="card__icon">üì§</span>
                            <h3 class="heading heading--h3">Import/Export</h3>
                            <p class="text text--secondary">Administrer dine cards</p>
                        </div>
                    </button>
                </div>
            </section>

            <!-- Cards List Section -->
            <section class="cards-section">
                <div class="section-header">
                    <h2 class="heading heading--h2 heading--gradient">
                        <span class="heading__icon">üìö</span>
                        Your Flashcards
                    </h2>
                    
                    <!-- Filter Controls -->
                    <div class="card card--elevated">
                        <div class="card__body">
                            <div class="filter-controls">
                                <div class="form-group">
                                    <label for="categoryFilter" class="form-label">Kategori:</label>
                                    <select id="categoryFilter" class="select select--md" onchange="filterCards()">
                                        <option value="">Alle kategorier</option>
                                    </select>
                                </div>
                                
                                <div class="form-group">
                                    <label for="difficultyFilter" class="form-label">Sv√¶rhedsgrad:</label>
                                    <select id="difficultyFilter" class="select select--md" onchange="filterCards()">
                                        <option value="">Alle sv√¶rhedsgrader</option>
                                        <option value="1">‚≠ê Let</option>
                                        <option value="2">‚≠ê‚≠ê Mellem</option>
                                        <option value="3">‚≠ê‚≠ê‚≠ê Sv√¶r</option>
                                    </select>
                                </div>
                                
                                <div class="form-group">
                                    <label for="searchCards" class="form-label">S√∏g:</label>
                                    <input type="text" id="searchCards" class="input input--md" placeholder="üîç S√∏g i cards..." onkeyup="filterCards()">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="cardsList" class="cards-grid">
                    <div class="card card--elevated empty-state">
                        <div class="card__body">
                            <div class="empty-state__icon">üóÇÔ∏è</div>
                            <h3 class="heading heading--h3">Ingen flashcards endnu</h3>
                            <p class="text text--secondary">Opret dit f√∏rste flashcard for at komme i gang!</p>
                            <button class="btn btn--primary btn--md" onclick="showCreateCard()">
                                <span class="btn__icon">‚ûï</span>
                                Opret F√∏rste Card
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Quick Actions Footer -->
            <section class="quick-actions-section">
                <div class="card card--elevated">
                    <div class="card__body">
                        <div class="quick-actions">
                            <button class="btn btn--outline btn--md" onclick="exportCards()">
                                <span class="btn__icon">üì§</span>
                                Export Cards
                            </button>
                            <button class="btn btn--outline btn--md" onclick="document.getElementById('importFile').click()">
                                <span class="btn__icon">üì•</span>
                                Import Cards
                            </button>
                            <button class="btn btn--outline btn--md btn--danger" onclick="clearAllCards()">
                                <span class="btn__icon">üóëÔ∏è</span>
                                Clear All
                            </button>
                        </div>
                        <input type="file" id="importFile" accept=".json" style="display: none;" onchange="importCards(this)">
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <a href="../../index.html" class="btn btn--ghost btn--sm">
            <span class="btn__icon">üè†</span>
            <span class="btn__text">Hjem</span>
        </a>
        <a href="../subjects/index.html" class="btn btn--ghost btn--sm">
            <span class="btn__icon">üìö</span>
            <span class="btn__text">Emner</span>
        </a>
        <button class="btn btn--primary btn--sm">
            <span class="btn__icon">üóÇÔ∏è</span>
            <span class="btn__text">Flashcards</span>
        </button>
        <a href="../dashboard/index.html" class="btn btn--ghost btn--sm">
            <span class="btn__icon">üìä</span>
            <span class="btn__text">Dashboard</span>
        </a>
    </nav>

    <!-- Create Card Modal -->
    <div id="createCardModal" class="modal" style="display: none;">
        <div class="modal-overlay" onclick="hideCreateCard()"></div>
        <div class="modal-content luxury-card">
            <div class="modal-header">
                <h2 class="text-gradient">‚ûï Opret Nyt Flashcard</h2>
                <button class="modal-close" onclick="hideCreateCard()" aria-label="Luk modal">&times;</button>
            </div>
            
            <div class="modal-body">
                <div class="form-group">
                    <label for="cardFront" class="form-label">üìñ Forside (Sp√∏rgsm√•l/Term):</label>
                    <textarea id="cardFront" class="form-input" rows="3" placeholder="Indtast sp√∏rgsm√•l eller term...

Tip: Du kan bruge Markdown:
**Fed tekst**
*Kursiv tekst*"></textarea>
                </div>

                <div class="form-group">
                    <label for="cardBack" class="form-label">üí° Bagside (Svar/Definition):</label>
                    <textarea id="cardBack" class="form-input" rows="4" placeholder="Indtast svar eller definition..."></textarea>
                </div>

                <div class="grid grid-2">
                    <div class="form-group">
                        <label for="cardCategory" class="form-label">üè∑Ô∏è Kategori:</label>
                        <select id="cardCategory" class="form-input">
                            <option value="custom">Brugerdefinerede Cards</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="cardDifficulty" class="form-label">üéØ Indledende Sv√¶rhedsgrad:</label>
                        <select id="cardDifficulty" class="form-input">
                            <option value="1">‚≠ê Let</option>
                            <option value="2" selected>‚≠ê‚≠ê Mellem</option>
                            <option value="3">‚≠ê‚≠ê‚≠ê Sv√¶r</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label for="cardHint" class="form-label">üí≠ Hint (Valgfrit):</label>
                    <input type="text" id="cardHint" class="form-input" placeholder="Indtast et hj√¶lpsomt hint...">
                </div>

                <div class="form-group">
                    <label for="cardTags" class="form-label">üè∑Ô∏è Tags (komma-separeret):</label>
                    <input type="text" id="cardTags" class="form-input" placeholder="tag1, tag2, tag3">
                </div>
            </div>

            <div class="modal-footer">
                <button class="btn-luxury-outline" onclick="hideCreateCard()">Annuller</button>
                <button class="btn-luxury" onclick="createCard()">
                    <span class="icon">‚ûï</span>
                    Opret Card
                </button>
            </div>
        </div>
    </div>

    <!-- Background Elements -->
    <div class="background-elements">
        <div class="floating-element" style="--delay: 0s; --duration: 20s;">üóÇÔ∏è</div>
        <div class="floating-element" style="--delay: 5s; --duration: 25s;">üß†</div>
        <div class="floating-element" style="--delay: 10s; --duration: 30s;">‚ö°</div>
        <div class="floating-element" style="--delay: 15s; --duration: 22s;">üéØ</div>
    </div>

    <script>
        // Dark Mode Toggle System
        function initializeDarkMode() {
            const themeToggle = document.getElementById('themeToggle');
            const themeIcon = document.getElementById('themeIcon');
            
            const savedTheme = localStorage.getItem('examklar-theme');
            const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            const currentTheme = savedTheme || (systemPrefersDark ? 'dark' : 'light');
            
            document.documentElement.setAttribute('data-theme', currentTheme);
            updateThemeIcon(currentTheme);
            
            themeToggle?.addEventListener('click', () => {
                const current = document.documentElement.getAttribute('data-theme');
                const newTheme = current === 'dark' ? 'light' : 'dark';
                
                document.documentElement.setAttribute('data-theme', newTheme);
                localStorage.setItem('examklar-theme', newTheme);
                updateThemeIcon(newTheme);
                
                themeToggle.style.transform = 'scale(0.8)';
                setTimeout(() => themeToggle.style.transform = 'scale(1)', 150);
            });
        }
        
        function updateThemeIcon(theme) {
            const themeIcon = document.getElementById('themeIcon');
            if (themeIcon) {
                themeIcon.textContent = theme === 'dark' ? '‚òÄÔ∏è' : 'üåô';
            }
        }
        
        document.addEventListener('DOMContentLoaded', () => {
            initializeDarkMode();
        });
    </script>

    <script src="../../core/utils.js"></script>
    <script src="../../core/data-bridge.js"></script>
    <script src="flashcards.js"></script>
</body>
</html>