<!DOCTYPE html>
<html lang="da">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indhold Manager - ExamKlar</title>
    <link rel="stylesheet" href="../../styles/design-system/components/index.css">
    <link rel="stylesheet" href="content.css">
</head>
<body>
    <!-- Skip Link for Accessibility -->
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <!-- Navigation using Design System -->
    <nav class="navbar" role="navigation" aria-label="Main navigation">
        <div class="navbar__container">
            <a href="../../index.html" class="navbar__brand" aria-label="ExamKlar home">
                <span class="navbar__logo text--gradient">ExamKlar</span>
                <span class="badge badge--primary">Pro</span>
            </a>
            
            <div class="navbar__nav">
                <a href="../dashboard/index.html" class="btn btn--ghost btn--sm" aria-label="Dashboard">
                    <span class="btn__icon">📊</span>
                    <span>Dashboard</span>
                </a>
                <a href="../subjects/index.html" class="btn btn--ghost btn--sm" aria-label="Subjects">
                    <span class="btn__icon">📚</span>
                    <span>Fag</span>
                </a>
                <a href="../flashcards/index.html" class="btn btn--ghost btn--sm" aria-label="Flashcards">
                    <span class="btn__icon">🃏</span>
                    <span>Flashcards</span>
                </a>
                <a href="../content/index.html" class="btn btn--primary btn--sm" aria-label="Content Manager" aria-current="page">
                    <span class="btn__icon">📝</span>
                    <span>Content</span>
                </a>
                <a href="../ai-assistant/index.html" class="btn btn--ghost btn--sm" aria-label="AI Assistant">
                    <span class="btn__icon">🤖</span>
                    <span>AI Assistant</span>
                </a>
                <button class="theme-toggle btn btn--ghost btn--sm" id="themeToggle" aria-label="Skift til mørk/lys tilstand" title="Skift tema">
                    <span id="themeIcon">🌙</span>
                </button>
            </div>
        </div>
    </nav>

    <main id="main-content" class="main-content">
        <!-- Hero Section using Design System -->
        <section class="hero" role="banner">
            <div class="hero__content">
                <h1 class="heading heading--h1 heading--gradient">
                    <span class="heading__icon">📝</span>
                    Indhold Manager
                </h1>
                <p class="text text--lg text--secondary">Upload og organiser dit læringsindhold</p>
            </div>
        </section>

        <!-- Upload Section using Design System -->
        <section class="upload-section">
            <div class="container">
                <h2 class="heading heading--h2 heading--gradient">
                    <span class="heading__icon">📤</span>
                    Upload Nyt Indhold
                </h2>
                
                <div class="card card--elevated">
                    <div class="card__body">
                        <div class="form-group">
                            <label for="dayTitle" class="form-label">
                                <span class="form-label__icon">📖</span>
                                Lektion Titel:
                            </label>
                            <input type="text" id="dayTitle" class="input input--md" placeholder="f.eks. Protein Basics" aria-describedby="title-help">
                            <p id="title-help" class="text text--sm text--secondary">Giv din lektion en beskrivende titel</p>
                        </div>

                        <div class="form-group">
                            <label for="dayContent" class="form-label">
                                <span class="form-label__icon">✏️</span>
                                Indhold (Markdown supported):
                            </label>
                            <textarea id="dayContent" class="textarea textarea--lg" rows="10" placeholder="Skriv dit læringsindhold her...

Du kan bruge Markdown:
# Overskrift
## Underoverskrift
**Fed tekst**
*Kursiv*
- Liste punkt
1. Nummereret liste

[Link](http://example.com)" aria-describedby="content-help"></textarea>
                            <p id="content-help" class="text text--sm text--secondary">Brug Markdown til formatering af dit indhold</p>
                        </div>

                        <div class="form-group">
                            <label for="estimatedTime" class="form-label">
                                <span class="form-label__icon">⏱️</span>
                                Estimeret læsetid (minutter):
                            </label>
                            <input type="number" id="estimatedTime" class="input input--md" min="1" max="180" value="15" aria-describedby="time-help">
                            <p id="time-help" class="text text--sm text--secondary">Hvor lang tid tager det at læse dette indhold?</p>
                        </div>

                        <div class="form-group">
                            <label for="difficulty" class="form-label">
                                <span class="form-label__icon">🎯</span>
                                Sværhedsgrad:
                            </label>
                            <select id="difficulty" class="select select--md" aria-describedby="difficulty-help">
                                <option value="1">Begynder</option>
                                <option value="2">Mellem</option>
                                <option value="3">Avanceret</option>
                            </select>
                            <p id="difficulty-help" class="text text--sm text--secondary">Vælg passende sværhedsgrad for indholdet</p>
                        </div>

                        <button onclick="addContent()" class="btn btn--primary btn--md">
                            <span class="btn__icon">➕</span>
                            Tilføj Indhold
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Content List -->
        <section class="content-list">
            <div class="container">
                <h2 class="heading heading--h2 heading--gradient">
                    <span class="heading__icon">📋</span>
                    Eksisterende Indhold
                </h2>
                <div id="contentList">
                    <div class="card card--elevated empty-state">
                        <div class="card__body text-center">
                            <span class="empty-state__icon">📄</span>
                            <h3 class="heading heading--h3">Intet indhold endnu</h3>
                            <p class="text text--secondary">Upload dit første læringsindhold for at komme i gang</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <a href="../../index.html" class="btn btn--ghost btn--sm">
            <span class="btn__icon">🏠</span>
            <span class="btn__text">Hjem</span>
        </a>
        <a href="../subjects/index.html" class="btn btn--ghost btn--sm">
            <span class="btn__icon">📚</span>
            <span class="btn__text">Emner</span>
        </a>
        <button class="btn btn--primary btn--sm">
            <span class="btn__icon">📄</span>
            <span class="btn__text">Indhold</span>
        </button>
        <a href="../dashboard/index.html" class="btn btn--ghost btn--sm">
            <span class="btn__icon">📊</span>
            <span class="btn__text">Dashboard</span>
        </a>
    </nav>

    <!-- Dark Mode Toggle System -->
    <script>
        function initializeDarkMode() {
            const themeToggle = document.getElementById('themeToggle');
            const themeIcon = document.getElementById('themeIcon');
            
            const savedTheme = localStorage.getItem('examklar-theme');
            const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            const currentTheme = savedTheme || (systemPrefersDark ? 'dark' : 'light');
            
            document.documentElement.setAttribute('data-theme', currentTheme);
            updateThemeIcon(currentTheme);
            
            themeToggle?.addEventListener('click', () => {
                const current = document.documentElement.getAttribute('data-theme');
                const newTheme = current === 'dark' ? 'light' : 'dark';
                
                document.documentElement.setAttribute('data-theme', newTheme);
                localStorage.setItem('examklar-theme', newTheme);
                updateThemeIcon(newTheme);
                
                themeToggle.style.transform = 'scale(0.8)';
                setTimeout(() => themeToggle.style.transform = 'scale(1)', 150);
            });
        }
        
        function updateThemeIcon(theme) {
            const themeIcon = document.getElementById('themeIcon');
            if (themeIcon) {
                themeIcon.textContent = theme === 'dark' ? '☀️' : '🌙';
            }
        }
        
        document.addEventListener('DOMContentLoaded', () => {
            initializeDarkMode();
        });
    </script>

    <!-- Core Scripts -->
    <script src="../../core/utils.js"></script>
    <script src="../../core/data-bridge.js"></script>
    <script src="content.js"></script>
</body>
</html>
