<!DOCTYPE html>
<html lang="da">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Manager - ExamKlar</title>
    <link rel="stylesheet" href="../../styles/premium.css">
    <link rel="stylesheet" href="quiz.css">
</head>
<body class="gpu-accelerated">
    <!-- Skip to Content Link -->
    <a href="#main-content" class="skip-link">Spring til hovedindhold</a>
    
    <!-- Dark Mode Toggle -->
    <button class="theme-toggle" id="themeToggle" aria-label="Skift til m√∏rk/lys tilstand" title="Skift tema">
        <span id="themeIcon">üåô</span>
    </button>
    
    <!-- Ultra-Premium Navigation -->
    <header class="nav-luxury">
        <nav class="nav container" role="navigation" aria-label="Hovednavigation">
            <div class="nav-brand">
                <div class="logo text-gradient glow">‚ú® ExamKlar</div>
                <span class="badge-luxury" aria-label="Quiz Manager">Quiz Manager</span>
            </div>
            <div class="nav-actions">
                <a href="../../index.html" class="btn-luxury-small" aria-label="Tilbage til forside">
                    <span class="icon">üè†</span>
                    Forside
                </a>
                <a href="../dashboard/index.html" class="btn-luxury-small">
                    <span class="icon">üìä</span>
                    Dashboard
                </a>
                <a href="../subjects/index.html" class="btn-luxury-small">
                    <span class="icon">üìö</span>
                    Fag
                </a>
            </div>
        </nav>
    </header>

    <main id="main-content" class="main-content">
        <!-- Hero Section -->
        <section class="hero-section" role="banner">
            <div class="hero-content">
                <h1 class="hero-title">
                    <i class="icon-quiz gradient-text" aria-hidden="true"></i>
                    Quiz Manager
                </h1>
                <p class="hero-subtitle">Test din viden og spor din fremgang</p>
            </div>
        </section>

        <!-- Stats Overview -->
        <section class="section">
            <div class="container">
                <h2 class="section-title">
                    <i class="icon-analytics" aria-hidden="true"></i>
                    Quiz Statistikker
                </h2>
                <div class="grid grid-4">
                    <div class="glass-card text-center">
                        <div class="card-content">
                            <div class="stat-number" id="totalQuestions">0</div>
                            <div class="stat-label">Sp√∏rgsm√•l</div>
                        </div>
                    </div>
                    <div class="glass-card text-center">
                        <div class="card-content">
                            <div class="stat-number" id="totalCategories">0</div>
                            <div class="stat-label">Kategorier</div>
                        </div>
                    </div>
                    <div class="glass-card text-center">
                        <div class="card-content">
                            <div class="stat-number" id="averageDifficulty">0</div>
                            <div class="stat-label">√ò Sv√¶rhedsgrad</div>
                        </div>
                    </div>
                    <div class="glass-card text-center">
                        <div class="card-content">
                            <div class="stat-number" id="totalQuizzes">0</div>
                            <div class="stat-label">Quiz S√¶t</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Action Buttons -->
        <section class="section">
            <div class="container">
                <h2 class="section-title">
                    <i class="icon-lightning" aria-hidden="true"></i>
                    Quiz Actions
                </h2>
                <div class="grid grid-3">
                    <button class="glass-card card-hover" onclick="startQuickQuiz()" aria-label="Start quick quiz">
                        <div class="card-content">
                            <i class="icon-play" aria-hidden="true"></i>
                            <h3>Start Quiz</h3>
                            <p>Tag en hurtig quiz</p>
                        </div>
                    </button>
                    
                    <button class="glass-card card-hover" onclick="createNewQuiz()" aria-label="Create new quiz">
                        <div class="card-content">
                            <i class="icon-plus" aria-hidden="true"></i>
                            <h3>Opret Quiz</h3>
                            <p>Lav nye sp√∏rgsm√•l</p>
                        </div>
                    </button>
                    
                    <button class="glass-card card-hover" onclick="viewStatistics()" aria-label="View statistics">
                        <div class="card-content">
                            <i class="icon-chart" aria-hidden="true"></i>
                            <h3>Statistikker</h3>
                            <p>Se din fremgang</p>
                        </div>
                    </button>
                    
                    <button class="glass-card card-hover" onclick="manageCategories()" aria-label="Manage categories">
                        <div class="card-content">
                            <i class="icon-categories" aria-hidden="true"></i>
                            <h3>Kategorier</h3>
                            <p>Organiser emner</p>
                        </div>
                    </button>
                    
                    <button class="glass-card card-hover" onclick="importQuestions()" aria-label="Import questions">
                        <div class="card-content">
                            <i class="icon-import" aria-hidden="true"></i>
                            <h3>Import</h3>
                            <p>Importer sp√∏rgsm√•l</p>
                        </div>
                    </button>
                    
                    <button class="glass-card card-hover" onclick="exportQuestions()" aria-label="Export questions">
                        <div class="card-content">
                            <i class="icon-export" aria-hidden="true"></i>
                            <h3>Export</h3>
                            <p>Eksporter data</p>
                        </div>
                    </button>
                </div>
            </div>
        </section>

        <!-- Quiz List -->
        <section class="section">
            <div class="container">
                <h2 class="section-title">
                    <i class="icon-list" aria-hidden="true"></i>
                    Quiz Sp√∏rgsm√•l
                </h2>
                
                <div class="filter-bar glass-card">
                    <div class="card-content">
                        <div class="grid grid-3">
                            <div class="form-group">
                                <label for="categoryFilter" class="form-label">Filtrer efter kategori:</label>
                                <select id="categoryFilter" class="select-field" onchange="filterQuizzes()" aria-label="Filter by category">
                                    <option value="">Alle kategorier</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="difficultyFilter" class="form-label">Sv√¶rhedsgrad:</label>
                                <select id="difficultyFilter" class="select-field" onchange="filterQuizzes()" aria-label="Filter by difficulty">
                                    <option value="">Alle</option>
                                    <option value="1">Let</option>
                                    <option value="2">Mellem</option>
                                    <option value="3">Sv√¶r</option>
                                    <option value="4">Ekspert</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label class="form-label">&nbsp;</label>
                                <button class="btn btn-secondary" onclick="resetFilters()" aria-label="Reset filters">
                                    <i class="icon-refresh" aria-hidden="true"></i>
                                    Reset
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="quiz-list" id="quizList">
                    <div class="glass-card empty-state">
                        <div class="card-content text-center">
                            <i class="icon-empty" aria-hidden="true"></i>
                            <h3>Ingen quiz sp√∏rgsm√•l endnu</h3>
                            <p>Opret dit f√∏rste sp√∏rgsm√•l for at komme i gang</p>
                            <button class="btn btn-primary" onclick="createNewQuiz()" style="margin-top: 1rem;">
                                <i class="icon-plus" aria-hidden="true"></i>
                                Opret F√∏rste Sp√∏rgsm√•l
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <a href="../../index.html" class="nav-item">
            <span class="nav-icon">üè†</span>
            <span class="nav-label">Hjem</span>
        </a>
        <a href="../subjects/index.html" class="nav-item">
            <span class="nav-icon">üìö</span>
            <span class="nav-label">Emner</span>
        </a>
        <button class="nav-item active">
            <span class="nav-icon">üéØ</span>
            <span class="nav-label">Quiz</span>
        </button>
        <a href="../dashboard/index.html" class="nav-item">
            <span class="nav-icon">üìä</span>
            <span class="nav-label">Dashboard</span>
        </a>
    </nav>

    <!-- Modals will be loaded by JavaScript -->
    <div id="notification" class="notification" role="alert" aria-live="polite"></div>

    <script>
        // Dark Mode Toggle System
        function initializeDarkMode() {
            const themeToggle = document.getElementById('themeToggle');
            const themeIcon = document.getElementById('themeIcon');
            
            const savedTheme = localStorage.getItem('examklar-theme');
            const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            const currentTheme = savedTheme || (systemPrefersDark ? 'dark' : 'light');
            
            document.documentElement.setAttribute('data-theme', currentTheme);
            updateThemeIcon(currentTheme);
            
            themeToggle?.addEventListener('click', () => {
                const current = document.documentElement.getAttribute('data-theme');
                const newTheme = current === 'dark' ? 'light' : 'dark';
                
                document.documentElement.setAttribute('data-theme', newTheme);
                localStorage.setItem('examklar-theme', newTheme);
                updateThemeIcon(newTheme);
                
                themeToggle.style.transform = 'scale(0.8)';
                setTimeout(() => themeToggle.style.transform = 'scale(1)', 150);
            });
        }
        
        function updateThemeIcon(theme) {
            const themeIcon = document.getElementById('themeIcon');
            if (themeIcon) {
                themeIcon.textContent = theme === 'dark' ? '‚òÄÔ∏è' : 'üåô';
            }
        }
        
        document.addEventListener('DOMContentLoaded', () => {
            initializeDarkMode();
        });
    </script>

    <script src="../../core/data-bridge.js"></script>
    <script src="quiz.js"></script>
</body>
</html>