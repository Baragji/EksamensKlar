<!DOCTYPE html>
<html lang="da" class="smooth-scroll">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ExamKlar - Eksklusiv AI-Drevet Eksamenplatform</title>
    <meta name="description" content="Ultra-moderne AI-baseret eksamenplatform hvor du skaber personlige l√¶ringsplaner for ethvert emne med premium mikrolearning">
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#6366f1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="ExamKlar">
    
    <!-- Styles -->
    <link rel="stylesheet" href="styles/global.css">
    <link rel="stylesheet" href="styles/components.css">
    <link rel="stylesheet" href="styles/premium.css">
    <link rel="stylesheet" href="styles/animations.css">
    <link rel="stylesheet" href="styles/responsive.css">
    <link rel="stylesheet" href="styles/interactive-components.css">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="assets/icons/favicon.ico">
</head>
<body class="gpu-accelerated">
    <!-- Skip to Content Link -->
    <a href="#main-content" class="skip-link">Spring til hovedindhold</a>
    
    <!-- Dark Mode Toggle -->
    <button class="theme-toggle btn-interactive" id="themeToggle" aria-label="Skift til m√∏rk/lys tilstand" title="Skift tema" data-theme-toggle>
        <span id="themeIcon">üåô</span>
    </button>
    
    <!-- Ultra-Premium Navigation -->
    <header class="nav-luxury">
        <nav class="nav container" role="navigation" aria-label="Hovednavigation">
            <div class="nav-brand">
                <div class="logo text-gradient glow">‚ú® ExamKlar</div>
                <span class="badge-luxury" aria-label="AI-drevet platform">AI-Powered</span>
            </div>
            <button class="nav-toggle" id="navToggle" aria-label="√Öbn navigation menu" aria-expanded="false">
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
            </button>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="main" id="main-content">
        <!-- Exclusive Hero Section -->
        <section class="hero-luxury" role="banner" aria-labelledby="hero-title">
            <div class="container">
                <div class="hero-content">
                    <h1 id="hero-title" class="hero-title-luxury">Revolution√©r Din Eksamensforberedelse</h1>
                    <p class="hero-subtitle-luxury">
                        Benyt AI-teknologi til at skabe personaliserede l√¶ringsplaner for ethvert emne. 
                        Premium mikrolearning med spaced repetition, adaptive quizzer og intelligente flashcards.
                    </p>
                    <div class="hero-actions" role="group" aria-label="Hovedhandlinger">
                        <a href="modules/dashboard/index.html" class="btn-luxury btn-interactive" data-ripple aria-describedby="start-desc">
                            <span class="icon icon-dashboard" aria-hidden="true"></span>
                            Start L√¶ring
                        </a>
                        <span id="start-desc" class="sr-only">G√• til dashboard for at starte din l√¶ringsrejse</span>
                        <a href="comprehensive-test.html" class="btn-luxury btn-interactive" data-ripple style="background: var(--gradient-aurora);" aria-describedby="test-desc">
                            <span class="icon icon-quiz" aria-hidden="true"></span>
                            Test Platform
                        </a>
                        <span id="test-desc" class="sr-only">Test alle platformens funktioner</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Premium Performance Dashboard -->
        <section class="stats luxury-section" role="region" aria-labelledby="stats-title">
            <div class="container container-responsive">
                <h2 id="stats-title" class="section-title text-gradient">Dine Resultater</h2>
                <div class="stats-grid-luxury grid-responsive grid-3">
                    <div class="luxury-card float mobile-full tablet-half desktop-third">
                        <div class="stat-icon" aria-hidden="true">
                            <span class="icon icon-xl text-gradient">üìä</span>
                        </div>
                        <span class="stat-number text-gradient" id="totalProgress">0%</span>
                        <span class="stat-label">Samlet Fremskridt</span>
                        <div class="progress-luxury" data-progress="0" aria-label="0% fremskridt"></div>
                    </div>
                    <div class="luxury-card float mobile-full tablet-half desktop-third" style="animation-delay: 0.2s;">
                        <div class="stat-icon" aria-hidden="true">
                            <span class="icon icon-xl text-gradient">üî•</span>
                        </div>
                        <span class="stat-number text-gradient" id="currentStreak">0</span>
                        <span class="stat-label">Dage i Tr√¶k</span>
                        <div class="badge-luxury">Aktiv</div>
                    </div>
                    <div class="luxury-card float mobile-full tablet-full desktop-third" style="animation-delay: 0.4s;">
                        <div class="stat-icon" aria-hidden="true">
                            <span class="icon icon-xl text-gradient">üéØ</span>
                        </div>
                        <span class="stat-number text-gradient" id="completedCards">0</span>
                        <span class="stat-label">Mestrede Emner</span>
                        <div class="shimmer" aria-hidden="true"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Ultra-Premium Module Navigation -->
        <section class="modules luxury-section" role="main" aria-labelledby="modules-title">
            <div class="container">
                <h3 id="modules-title" class="section-title text-gradient">Eksklusive L√¶ringsmoduler</h3>
                <nav class="modules-grid-luxury" role="navigation" aria-label="L√¶ringsmoduler">
                    
                    <a href="modules/subjects/index.html" class="module-card-luxury featured glow card-interactive" aria-describedby="subjects-desc" data-ripple>
                        <div class="module-icon" aria-hidden="true">
                            <span class="icon icon-2xl icon-subjects"></span>
                        </div>
                        <h4 class="module-title">Emnestyring</h4>
                        <p id="subjects-desc" class="module-description">Skab og administrer ubegr√¶nsede l√¶ringsemner med AI-assistance</p>
                        <div class="module-status">
                            <span class="badge-luxury">Premium</span>
                        </div>
                    </a>
                    
                    <a href="modules/content/index.html" class="module-card-luxury card-interactive" aria-describedby="content-desc" data-ripple>
                        <div class="module-icon" aria-hidden="true">
                            <span class="icon icon-2xl icon-brain"></span>
                        </div>
                        <h4 class="module-title">AI Indholdsmotor</h4>
                        <p id="content-desc" class="module-description">Upload og analyser l√¶ringsmaterialer med AI-assisteret l√¶ring</p>
                        <div class="module-status">
                            <span class="badge-luxury">Smart</span>
                        </div>
                    </a>

                    <a href="modules/flashcards/index.html" class="module-card-luxury card-interactive" aria-describedby="flashcards-desc" data-ripple>
                        <div class="module-icon" aria-hidden="true">
                            <span class="icon icon-2xl icon-cards"></span>
                        </div>
                        <h4 class="module-title">Intelligente Flashcards</h4>
                        <p id="flashcards-desc" class="module-description">Adaptive flashcards med spaced repetition og AI-optimering</p>
                        <div class="progress-luxury" data-progress="65" aria-label="65% f√¶rdig"></div>
                    </a>

                    <a href="modules/quiz/index.html" class="module-card-luxury" aria-describedby="quiz-desc">
                        <div class="module-icon" aria-hidden="true">
                            <span class="icon icon-2xl icon-quiz"></span>
                        </div>
                        <h4 class="module-title">Adaptive Quizzer</h4>
                        <p id="quiz-desc" class="module-description">AI-genererede quizzer der tilpasser sig dit niveau</p>
                        <div class="progress-luxury" data-progress="45" aria-label="45% f√¶rdig"></div>
                    </a>

                    <a href="modules/dashboard/index.html" class="module-card-luxury card-interactive" aria-describedby="dashboard-desc" data-ripple>
                        <div class="module-icon" aria-hidden="true">
                            <span class="icon icon-2xl icon-dashboard"></span>
                        </div>
                        <h4 class="module-title">Analytisk Dashboard</h4>
                        <p id="dashboard-desc" class="module-description">Avanceret tracking, AI-insights og performance analytics</p>
                        <div class="module-status">
                            <span class="badge-luxury">Live</span>
                        </div>
                    </a>

                    <a href="modules/advanced/index.html" class="module-card-luxury" aria-describedby="advanced-desc">
                        <div class="module-icon" aria-hidden="true">
                            <span class="icon icon-2xl">üåü</span>
                        </div>
                        <h4 class="module-title">Premium Features</h4>
                        <p id="advanced-desc" class="module-description">Export/import, cloud sync, dark mode og exclusive tools</p>
                        <div class="shimmer" aria-hidden="true"></div>
                    </a>

                    <a href="modules/ai-assistant/index.html" class="module-card-luxury ai-featured glow card-interactive" aria-describedby="ai-desc" data-ripple>
                        <div class="module-icon" aria-hidden="true">
                            <span class="icon icon-2xl icon-ai"></span>
                        </div>
                        <h4 class="module-title">AI Tutor</h4>
                        <p id="ai-desc" class="module-description">Personlig AI-tutor med avanceret chat og intelligent feedback</p>
                        <div class="module-status">
                            <span class="badge-luxury">Eksklusiv</span>
                        </div>
                    </a>

                </nav>
            </div>
        </section>

        <!-- Premium Call-to-Action -->
        <section class="cta-luxury">
            <div class="container">
                <div class="luxury-card cta-content">
                    <h2 class="text-gradient">Klar til at revolutionere din l√¶ring?</h2>
                    <p>Kom i gang med personaliserede AI-drevne l√¶ringsplaner og eksklusiv adgang til premium features</p>
                    <div class="cta-actions">
                        <a href="modules/onboarding/index.html" class="btn-luxury" aria-describedby="onboarding-desc">
                            <span class="icon icon-rocket" aria-hidden="true"></span>
                            Start Onboarding
                        </a>
                        <span id="onboarding-desc" class="sr-only">Begin din personaliserede l√¶ringsrejse</span>
                        
                        <a href="modules/subjects/index.html" class="btn-luxury" style="background: var(--gradient-luxury);" aria-describedby="subjects-btn-desc">
                            <span class="icon icon-subjects" aria-hidden="true"></span>
                            Opret Emne
                        </a>
                        <span id="subjects-btn-desc" class="sr-only">Opret dit f√∏rste l√¶ringsemne</span>
                        
                        <a href="tools/ui-analyzer.html" class="btn-luxury" style="background: var(--gradient-aurora);" aria-describedby="analyzer-desc">
                            <span class="icon icon-analytics" aria-hidden="true"></span>
                            UI/UX Analyzer
                        </a>
                        <span id="analyzer-desc" class="sr-only">Analyser platformens design og brugeroplevelse</span>
                        
                        <a href="tools/automated-test-suite.html" class="btn-luxury" style="background: var(--gradient-ocean);" aria-describedby="tests-desc">
                            <span class="icon icon-settings" aria-hidden="true"></span>
                            Automated Tests
                        </a>
                        <span id="tests-desc" class="sr-only">K√∏r automatiserede tests af hele platformen</span>
                        
                        <button onclick="resetOnboarding()" class="btn-luxury" style="background: var(--gradient-warning);" aria-describedby="reset-desc">
                            <span class="icon icon-refresh" aria-hidden="true"></span>
                            Reset Onboarding
                        </button>
                        <span id="reset-desc" class="sr-only">Nulstil onboarding for at teste den igen</span>
                    </div>
                </div>
            </div>
        </section>
        </section>

        <!-- Advanced Features Quick Access -->
        <section class="quick-actions">
            <h3 class="modules-title">Hurtig Adgang</h3>
            <div class="quick-actions-grid">
                <button onclick="window.open('modules/advanced/index.html#search', '_blank')" class="quick-action">
                    <span class="action-icon">üîç</span>
                    <span class="action-label">Global Search</span>
                </button>
                <button onclick="toggleDarkMode()" class="quick-action">
                    <span class="action-icon">üåô</span>
                    <span class="action-label">Dark Mode</span>
                </button>
                <button onclick="window.open('modules/advanced/index.html#export', '_blank')" class="quick-action">
                    <span class="action-icon">üì§</span>
                    <span class="action-label">Export Data</span>
                </button>
                <button onclick="window.open('modules/advanced/index.html#import', '_blank')" class="quick-action">
                    <span class="action-icon">üì•</span>
                    <span class="action-label">Import Data</span>
                </button>
            </div>
        </section>
    </main>

    <!-- Bottom Navigation (Mobile) -->
    <nav class="bottom-nav">
        <button class="nav-item active" onclick="window.location.reload()" data-nav="home">
            <span class="nav-icon">üè†</span>
            <span class="nav-label">Hjem</span>
        </button>
        <a href="modules/subjects/index.html" class="nav-item" data-nav="subjects">
            <span class="nav-icon">ÔøΩ</span>
            <span class="nav-label">Emner</span>
        </a>
        <a href="modules/flashcards/index.html" class="nav-item" data-nav="flashcards">
            <span class="nav-icon">üóÇÔ∏è</span>
            <span class="nav-label">Cards</span>
        </a>
        <a href="modules/quiz/index.html" class="nav-item" data-nav="quiz">
            <span class="nav-icon">‚ùì</span>
            <span class="nav-label">Quiz</span>
        </a>
        <a href="modules/dashboard/index.html" class="nav-item" data-nav="dashboard">
            <span class="nav-icon">üìä</span>
            <span class="nav-label">Fremskridt</span>
        </a>
        <a href="modules/ai-assistant/index.html" class="nav-item" data-nav="ai">
            <span class="nav-icon">ü§ñ</span>
            <span class="nav-label">AI</span>
        </a>
    </nav>

    <!-- Scripts -->
    <script src="core/browser-compatibility.js"></script>
    <script src="core/utils.js"></script>
    <script src="core/storage.js"></script>
    <script src="core/performance.js"></script>
    <script src="core/accessibility.js"></script>
    <script src="core/mobile-gestures.js"></script>
    <script src="core/pwa-installer.js"></script>
    <script src="core/event-bus.js"></script>
    <script src="core/event-bus-middleware.js"></script>
    <script src="core/event-bus-integration.js"></script>
    <script src="core/data-bridge.js"></script>
    <script src="core/data-bridge-realtime.js"></script>
    <script src="core/ui-interactions.js"></script>
    
    <!-- Enterprise Security & Scalability -->
    <script src="core/security-manager.js"></script>
    <script src="core/audit-logger.js"></script>
    <script src="core/scalability-manager.js"></script>
    
    <script src="core/app.js"></script>
    
    <!-- Initialize App -->
    <script>
        // Register Service Worker for PWA functionality
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./sw.js')
                    .then((registration) => {
                        // Service Worker registered successfully
                    })
                    .catch((error) => {
                        // Service Worker registration failed
                    });
            });
        }

        // Initialize app when DOM is ready
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize dark mode first
            initializeDarkMode();
            
            // Check if onboarding is completed
            const hasCompletedOnboarding = localStorage.getItem('examklar_onboarding_completed');
            if (!hasCompletedOnboarding) {
                // Redirect to onboarding
                window.location.href = 'modules/onboarding/index.html';
                return;
            }
            
            app.init();
            initializeDarkMode();
            
            // Initialize UI interactions
            if (typeof UIInteractionsManager !== 'undefined') {
                window.uiInteractions = new UIInteractionsManager();
                window.uiInteractions.init();
            }
        });

        // Dark Mode Toggle System
        function initializeDarkMode() {
            const themeToggle = document.getElementById('themeToggle');
            const themeIcon = document.getElementById('themeIcon');
            
            // Check for saved theme or use system preference
            const savedTheme = localStorage.getItem('examklar-theme');
            const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            const currentTheme = savedTheme || (systemPrefersDark ? 'dark' : 'light');
            
            // Apply theme
            document.documentElement.setAttribute('data-theme', currentTheme);
            updateThemeIcon(currentTheme);
            
            // Toggle handler
            themeToggle?.addEventListener('click', () => {
                const current = document.documentElement.getAttribute('data-theme');
                const newTheme = current === 'dark' ? 'light' : 'dark';
                
                document.documentElement.setAttribute('data-theme', newTheme);
                localStorage.setItem('examklar-theme', newTheme);
                updateThemeIcon(newTheme);
                
                // Add micro-animation
                themeToggle.style.transform = 'scale(0.8)';
                setTimeout(() => themeToggle.style.transform = 'scale(1)', 150);
            });
            
            // Listen for system theme changes
            window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => {
                if (!localStorage.getItem('examklar-theme')) {
                    const newTheme = e.matches ? 'dark' : 'light';
                    document.documentElement.setAttribute('data-theme', newTheme);
                    updateThemeIcon(newTheme);
                }
            });
        }
        
        function updateThemeIcon(theme) {
            const themeIcon = document.getElementById('themeIcon');
            if (themeIcon) {
                themeIcon.textContent = theme === 'dark' ? '‚òÄÔ∏è' : 'üåô';
            }
        }

        // Reset onboarding for testing
        function resetOnboarding() {
            if (confirm('Er du sikker p√• at du vil nulstille onboarding? Dette vil slette dine gemte indstillinger.')) {
                localStorage.removeItem('examklar_onboarding_completed');
                localStorage.removeItem('examklar_subjects');
                localStorage.removeItem('examklar_user_data');
                alert('Onboarding nulstillet! Du vil blive omdirigeret til onboarding n√•r du opdaterer siden.');
                window.location.href = 'modules/onboarding/index.html';
            }
        }
    </script>
</body>
</html>